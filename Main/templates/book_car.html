<!DOCTYPE html>
<html>
<head>
    <title>Book Car</title>

    {% block head %}
        <title>CarRental &mdash; Free Website Template by Colorlib</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700;900&display=swap" rel="stylesheet">
    
        <link rel="stylesheet" href="{{ url_for('static', filename='../static/fonts/icomoon/style.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='../static/css/bootstrap.min.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='../static/css/bootstrap-datepicker.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='../static/css/jquery.fancybox.min.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='../static/css/owl.carousel.min') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='../static/css/owl.theme.default.min') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='../static/fonts/flaticon/font/flaticon.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='../static/css/aos.css') }}">
    
        <!-- MAIN CSS -->
        <link rel="stylesheet" href="{{ url_for('static', filename='../static/css/style.css') }}">
    {% endblock %}

    <style>
        body {
    font-family: 'Roboto', sans-serif;
    background-color: #f4f4f4;
    color: #333;
}

.container {
    margin-top: 50px;
}

.site-logo a {
    text-decoration: none;
    font-size: 1.5rem;
    font-weight: 700;
    color: #333;
}

.site-navbar {
    background-color: #fff;
    box-shadow: 0px 1px 5px rgba(0, 0, 0, 0.1);
}

.section-heading {
    font-size: 28px;
    color: #333;
    margin-bottom: 20px;
}

table {
    width: 100%;
    margin-top: 20px;
    border-collapse: collapse;
    background-color: #fff;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
}

th, td {
    padding: 15px;
    text-align: left;
    border-bottom: 1px solid #ddd;
}

th {
    background-color: #878787d8;
    color: #252525;
}

td {
    background-color: #f5f5f5;
}

.form-group {
    margin-bottom: 20px;
}

input[type="date"], input[type="text"], input[type="submit"] {
    width: 100%;
    padding: 10px;
    margin-bottom: 15px;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-sizing: border-box;
}

.btn-primary {
    background-color: #006ee3;
    color: #fff;
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

.btn-primary:hover {
    background-color: #0056b3;
}

    </style>

</head>
<body>

    <div class="site-wrap" id="home-section">

        <div class="site-mobile-menu site-navbar-target">
          <div class="site-mobile-menu-header">
            <div class="site-mobile-menu-close mt-3">
              <span class="icon-close2 js-menu-toggle"></span>
            </div>
          </div>
          <div class="site-mobile-menu-body"></div>
        </div>

        <header class="site-navbar site-navbar-target" role="banner">

            <div class="container">
              <div class="row align-items-center position-relative">
      
                <div class="col-3">
                  <div class="site-logo">
                    <a href="{{url_for('home')}}"><strong>CarRental</strong></a>
                  </div>
                </div>
      
                <div class="col-9  text-right">
                  
                  <span class="d-inline-block d-lg-none"><a href="#" class=" site-menu-toggle js-menu-toggle py-5 "><span class="icon-menu h3 text-black"></span></a></span>
      
                  <nav class="site-navigation text-right ml-auto d-none d-lg-block" role="navigation">
                    <ul class="site-menu main-menu js-clone-nav ml-auto ">
                      <li class="active"><a href="{{url_for('home')}}" class="nav-link">Home</a></li>
                      <li><a href="{{url_for('bookings')}}" class="nav-link">My Bookings</a></li>
                      <li><a href="{{url_for('bills')}}" class="nav-link">Dues</a></li>
                    </ul>
                  </nav>
                </div>
      
                
              </div>
            </div>
      
          </header>

          <br>
          <br>
          <br>

          <div class="site-wrap" id="home-section">
              <div class="site-section bg-light">
                  <div class="container">
                      <div class="row">
                          <div class="col-lg-7">
                              <h2 class="section-heading"><strong>Booking Details for Car {{ registration_number }}</strong></h2>
                          </div>
                      </div>
            <br>
    <table>
        <tbody>
            <tr>
                <th>Registration Number:</th>
                <td>{{ car_info[0] }}</td>
            </tr>
            <tr>
                <th>Model:</th>
                <td>{{ car_info[1] }}</td>
            </tr>
            <tr>
                <th>Company:</th>
                <td>{{ car_info[2] }}</td>
            </tr>
            <tr>
                <th>Year:</th>
                <td>{{ car_info[3] }}</td>
            </tr>
            <tr>
                <th>Mileage:</th>
                <td>{{ car_info[4] }}</td>
            </tr>
            <tr>
                <th>Car Type:</th>
                <td>{{ car_info[5] }}</td>
            </tr>
            <tr>
                <th>Luggage Space:</th>
                <td>{{ cost_info[1] }}</td>
            </tr>
            <tr>
                <th>Seating Capacity:</th>
                <td>{{ cost_info[2] }}</td>
            </tr>
            <tr>
                <th>Pick up location:</th>
                <td>{{ car_info[8] }}</td>
            </tr>
            <tr>
                <th>Address:</th>
                <td>{{ car_info[9] }}</td>
            </tr>
            <tr>
                <th>Cost Per Day:</th>
                <td>{{ cost_info[3] }}</td>
            </tr>
            <tr>
                <th>Late Fee Per Day:</th>
                <td>{{ cost_info[4] }}</td>
            </tr>
        </tbody>
    </table>

    <form method="POST">
        <input type="hidden" name="registration_number" value="{{ car_info[0] }}">
        <input type="hidden" name="cost_per_day" value="{{ cost_info[3] }}">
        <input type="hidden" name="late_fee_per_day" value="{{ cost_info[4] }}">

        <!-- Add date pickers for start and end dates -->
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                        <label for="start_date">Start Date:</label>
                        <input type="date" name="start_date" placeholder="{{ start_date }}"
                        class="form-control" required>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label for="end_date">End Date:</label>
                    <input type="date" name="end_date" class="form-control" required>
                </div>
            </div>
        </div>

        {% if start_date and end_date %}
        <p>From {{ start_date }} to {{ end_date }}</p>
        <table>
            <tr>
                <th>Total Cost:</th>
                <td id="total_cost">{{ total_cost }}</td>
            </tr>
        </table>

        {% endif %}

        <!-- Final booking button -->
        <input type="submit" value="Find Cost" class="btn btn-primary">

    </form>

    <br>

    {% if start_date and end_date %}

    <form method="POST" action="{{ url_for('confirm_booking') }}">
        <input type="hidden" name="registration_number" value="{{ car_info[0] }}">
        <input type="hidden" name="start_date" value="{{ start_date }}">
        <input type="hidden" name="end_date" value="{{ end_date }}">
        <input type="hidden" name="total_cost" value="{{ total_cost }}">
        <input type="hidden" name="pick_up_location" value="{{ car_info[8] }}">
        
        <input type="hidden" name="cost_per_day" value="{{ cost_info[3] }}">
        <input type="hidden" name="late_fee_per_day" value="{{ cost_info[4] }}">

        <input type="submit" value="Book" class="btn btn-primary">
    </form>

    {% endif %} 
</div>
</div>
</div>

</body>
</html>
